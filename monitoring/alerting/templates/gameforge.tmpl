{{ define "gameforge.title" }}
[{{ .Status | toUpper }}{{ if eq .Status "firing" }}:{{ .Alerts.Firing | len }}{{ end }}] {{ .GroupLabels.SortedPairs.Values | join " " }} {{ if gt (len .CommonLabels) (len .GroupLabels) }}({{ with .CommonLabels.Remove .GroupLabels.Names }}{{ .Values | join " " }}{{ end }}){{ end }}
{{ end }}

{{ define "gameforge.message" }}
{{ if gt (len .Alerts.Firing) 0 }}
**üö® Firing Alerts:**
{{ range .Alerts.Firing }}
‚Ä¢ **{{ .Annotations.summary }}**
  *Description:* {{ .Annotations.description }}
  *Labels:* {{ range .Labels.SortedPairs }}{{ .Name }}={{ .Value }} {{ end }}
  *Started:* {{ .StartsAt.Format "2006-01-02 15:04:05 UTC" }}
{{ end }}
{{ end }}

{{ if gt (len .Alerts.Resolved) 0 }}
**‚úÖ Resolved Alerts:**
{{ range .Alerts.Resolved }}
‚Ä¢ **{{ .Annotations.summary }}**
  *Duration:* {{ .StartsAt.Format "15:04:05" }} - {{ .EndsAt.Format "15:04:05" }} ({{ .EndsAt.Sub .StartsAt }})
{{ end }}
{{ end }}
{{ end }}

{{ define "gameforge.gpu.message" }}
{{ if gt (len .Alerts.Firing) 0 }}
**üñ•Ô∏è GPU Alerts:**
{{ range .Alerts.Firing }}
‚Ä¢ **GPU {{ .Labels.gpu }}**: {{ .Annotations.summary }}
  *Temperature:* {{ .Labels.temperature }}¬∞C
  *Utilization:* {{ .Labels.utilization }}%
  *Memory:* {{ .Labels.memory_used }}/{{ .Labels.memory_total }}MB
  *Started:* {{ .StartsAt.Format "15:04:05" }}
{{ end }}
{{ end }}
{{ end }}

{{ define "gameforge.business.message" }}
{{ if gt (len .Alerts.Firing) 0 }}
**üíº Business Alerts:**
{{ range .Alerts.Firing }}
‚Ä¢ **{{ .Annotations.summary }}**
  *Current Value:* {{ .Annotations.value }}
  *Threshold:* {{ .Annotations.threshold }}
  *Impact:* {{ .Annotations.impact }}
  *Revenue Impact:* {{ .Annotations.revenue_impact }}
{{ end }}
{{ end }}
{{ end }}

{{ define "gameforge.security.message" }}
{{ if gt (len .Alerts.Firing) 0 }}
**üîí Security Alerts:**
{{ range .Alerts.Firing }}
‚Ä¢ **{{ .Annotations.summary }}**
  *Type:* {{ .Labels.security_type }}
  *Severity:* {{ .Labels.severity }}
  *Source:* {{ .Labels.source_ip }}
  *User:* {{ .Labels.user }}
  *Action Required:* {{ .Annotations.action_required }}
{{ end }}
{{ end }}
{{ end }}
